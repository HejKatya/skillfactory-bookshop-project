/*! For license information please see super.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./styles/base.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://bookshop/./styles/base.css?")},"./scripts/categories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"categoryMenu\": () => (/* binding */ categoryMenu)\n/* harmony export */ });\nfunction categoryMenu() {\n    const btn = document.querySelector('.books__arrow');\n    const categoryList = document.querySelector('.books__list');\n    const categoryArray = Array.from(document.querySelectorAll('.books__category'));\n\n    const closeList = () => {\n        categoryList.classList.remove('books__list-active');\n        categoryList.style.paddingRight = '0px';\n        btn.style.left = '5px';\n    };\n\n    btn.addEventListener('click', () => {\n        categoryList.style.display = 'flex';\n        btn.classList.toggle('left');\n        if (!categoryList.classList.contains('books__list-active')) {\n            categoryList.classList.add('books__list-active');\n            categoryList.style.position = 'fixed';\n            categoryList.style.paddingRight = '20px';\n            btn.style.left = '130px';\n            btn.style.top = '45%';\n        } else {\n            closeList();\n            btn.style.top = '50%';\n        }\n    });\n\n    window.addEventListener('resize', () => {\n        if (window.innerWidth > '600') {\n            categoryList.style.position = 'absolute';\n            categoryList.style.display = 'flex';\n        } else if (window.innerWidth < '600') {\n            categoryArray.forEach(category => {\n                category.addEventListener('click', () => {\n                    closeList();\n                });\n            });\n            //categoryList.style.backgroundColor = 'red'\n            categoryList.style.display = 'none';\n            closeList();\n            btn.classList.remove('left');\n        }\n    });\n}\n\n\n\n//# sourceURL=webpack://bookshop/./scripts/categories.js?")},"./scripts/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _slider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./slider.js */ \"./scripts/slider.js\");\n/* harmony import */ var _menu_burger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-burger.js */ \"./scripts/menu-burger.js\");\n/* harmony import */ var _categories_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./categories.js */ \"./scripts/categories.js\");\n/* harmony import */ var _styles_base_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/base.css */ \"./styles/base.css\");\n// url template `https://www.googleapis.com/books/v1/volumes?q=\"subject:${}\"&key=${myKey}&printType=books&startIndex=0&maxResults=6&langRestrict=en&filter=paid-ebooks`\n\n\n(0,_slider_js__WEBPACK_IMPORTED_MODULE_0__.slider)();\n\n\n(0,_menu_burger_js__WEBPACK_IMPORTED_MODULE_1__.menuBuger)();\n\n\n(0,_categories_js__WEBPACK_IMPORTED_MODULE_2__.categoryMenu)();\n\n\n\n\n// global variables \nconst myKey = 'AIzaSyBBEk957I5li_IB861bKR-eLQvlO94Kkv4';\nconst booksList = document.querySelector('.books__cards');\nconst categories = Array.from(document.querySelectorAll('.books__category'));\nconst loadBtn = document.querySelector('.books__load-btn');\n\n// display books func\nfunction displayBooks(booksArray) {\n\n    // displaying each book\n    booksArray.forEach(book => {\n        let author;\n        if (!book.authors) {\n            author = 'Unknown author';\n        } else if (book.authors.length == 1) {\n            author = book.authors[0];\n        } else if (book.authors.length > 1) {\n            author = book.authors.join(', ');\n        }\n        let reviews;\n        if (book.reviews) {\n            reviews = book.reviews;\n        } else {\n            reviews = 0;\n        }\n\n        const bookCard = `\n        <li class=\"books__card\" id=\"${book.id}\">\n            <img src=\"${book.coverUrl}\" alt=\"${book.title} book cover\" class=\"books__card-img\">\n            <div class=\"books__info-box\">\n            <h6 class=\"heading books__author\">${author}</h6>\n            <h4 class=\"heading books__title\">${book.title}</h4>\n            <h6 class=\"heading books__reviews\">\n            <div class=\"review-stars\">\n            <img src=\"./imgs/books-imgs/Star-gray.svg\" class=\"review-star\">\n            <img src=\"./imgs/books-imgs/Star-gray.svg\" class=\"review-star\">\n            <img src=\"./imgs/books-imgs/Star-gray.svg\" class=\"review-star\">\n            <img src=\"./imgs/books-imgs/Star-gray.svg\" class=\"review-star\">\n            <img src=\"./imgs/books-imgs/Star-gray.svg\" class=\"review-star\">\n            </div>\n            ${reviews} reviews</h6>\n            <p class=\"books__about\">${book.description}</p>\n            <h5 class=\"heading books__price\">${book.currency} ${book.price}</h5>\n            <button id=\"${book.id}\" class=\"books__btn btn\">buy now</button>\n            </div>\n        </li>`;\n        booksList.insertAdjacentHTML('beforeend', bookCard);\n\n        const currentBook = document.getElementById(book.id)\n\n        let stars = Array.from(currentBook.querySelectorAll('.review-star'));\n\n        if (book.rating || book.reviews) {\n\n            if (!Number.isInteger(book.rating)) {\n                book.rating = Math.floor(book.rating);\n            }\n            console.log(book.title, book.rating)\n            switch (book.rating) {\n                case 1:\n                    stars[0].src = './imgs/books-imgs/Star-gold.svg';\n                    break;\n                case 2:\n                    stars[0].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[1].src = './imgs/books-imgs/Star-gold.svg';\n                    //console.log('im here');\n                    break;\n                case 3:\n                    stars[0].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[1].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[2].src = './imgs/books-imgs/Star-gold.svg';\n                    break;\n                case 4:\n                    stars[0].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[1].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[2].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[3].src = './imgs/books-imgs/Star-gold.svg';\n                    break;\n                case 5:\n                    stars[0].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[1].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[2].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[3].src = './imgs/books-imgs/Star-gold.svg';\n                    stars[4].src = './imgs/books-imgs/Star-gold.svg';\n                    break;\n                default:\n                    console.log('default');\n            }\n            debugger\n\n        }\n        stars = [];\n    });\n\n    // shopping buttons\n    const btns = Array.from(document.querySelectorAll('.books__btn'));\n    const container = document.querySelector('.bag');\n\n\n\n    // btns functions\n    btns.forEach(btn => {\n        // buttons are pressed when page is loaded\n        if (Object.prototype.hasOwnProperty.call(localStorage, btn.id)) {\n            btn.classList.add('pressed');\n            btn.innerHTML = 'in the cart';\n        }\n\n        // bag has items when page is loaded\n        let bagItems = `<div class=\"items-number\">${Object.keys(localStorage).length}</div>`;\n        if (Object.keys(localStorage).length > 0) {\n            container.innerHTML = bagItems;\n        }\n\n        // button click event\n        btn.addEventListener('click', () => {\n            const idName = btn.id;\n            if (!btn.classList.contains('pressed')) {\n                btn.innerHTML = 'in the cart';\n                btn.classList.add('pressed');\n                localStorage.setItem(idName, btn.id);\n            } else if (btn.classList.contains('pressed')) {\n                btn.innerHTML = 'buy now';\n                btn.classList.remove('pressed');\n                localStorage.removeItem(idName, btn.id);\n            }\n            // bag items count updates when buttons are clicked\n            bagItems = `<div class=\"items-number\">${Object.keys(localStorage).length}</div>`;\n            container.innerHTML = bagItems;\n            if (Object.keys(localStorage).length == 0) {\n                container.innerHTML = ' ';\n            }\n        });\n    });\n}\n\n// request func\nfunction request(url) {\n    fetch(url)\n        .then(response => response.json())\n        .then(result => {\n            const items = result.items;\n            let books = [];\n            items.forEach(item => {\n                const volumeInfo = item.volumeInfo;\n                const saleInfo = item.saleInfo;\n                let bookInfo = {};\n                bookInfo.id = item.id;\n                bookInfo.title = volumeInfo.title;\n                bookInfo.authors = volumeInfo.authors;\n\n                if (!volumeInfo.imageLinks) {\n                    bookInfo.coverUrl = 'imgs/books-imgs/download.png';\n                } else {\n                    bookInfo.coverUrl = volumeInfo.imageLinks.thumbnail;\n                }\n                bookInfo.description = volumeInfo.description;\n                bookInfo.rating = volumeInfo.averageRating;\n                bookInfo.reviews = volumeInfo.ratingsCount;\n                if (saleInfo.saleability == 'FREE' || (saleInfo.saleability == \"FOR_SALE\" && saleInfo.listPrice.amount == 0)) {\n                    bookInfo.price = 'free';\n                    bookInfo.currency = ' ';\n                } else if (saleInfo.saleability == \"FOR_SALE\") {\n                    bookInfo.price = saleInfo.listPrice.amount;\n                    bookInfo.currency = saleInfo.listPrice.currencyCode;\n                } else if (saleInfo.saleability == \"NOT_FOR_SALE\") {\n                    bookInfo.price = 'not for sale';\n                    bookInfo.currency = ' ';\n                }\n                books.push(bookInfo);\n            });\n            return books;\n        })\n        .then(books => {\n            displayBooks(books);\n        });\n}\n\n// load more func \nfunction loadMore(bookCategory) {\n    const bookCards = Array.from(document.querySelectorAll('.books__card'));\n    const currentBooksAmount = bookCards.length;\n    let currentUrl = `https://www.googleapis.com/books/v1/volumes?q=\"subject:${bookCategory}\"&key=${myKey}&printType=books&startIndex=${currentBooksAmount}&maxResults=6&langRestrict=en&filter=paid-ebooks`;\n\n    // takes care of the crafts category(doesn't have any paid e-books)\n    if (bookCategory == `\\n\\t\\t\\t\\t\\tCrafts &amp; Hobbies\\n\\t\\t\\t\\t`) {\n        currentUrl = `https://www.googleapis.com/books/v1/volumes?q=\"subject:${bookCategory}\"&key=${myKey}&printType=books&startIndex=${currentBooksAmount}&maxResults=6&langRestrict=en`;\n    }\n    request(currentUrl);\n\n}\n\n// page load\nwindow.addEventListener('DOMContentLoaded', () => {\n    // set the default category and the url template\n    let currentCategory = categories[0].innerHTML;\n    const defaultUrl = `https://www.googleapis.com/books/v1/volumes?q=\"subject:${currentCategory}\"&key=${myKey}&printType=books&startIndex=0&maxResults=6&langRestrict=en&filter=paid-ebooks`;\n    request(defaultUrl);\n    // event listeners for categories\n    categories.forEach(category => {\n        const categoryName = category.innerHTML;\n        let currentUrl = `https://www.googleapis.com/books/v1/volumes?q=\"subject:${categoryName}\"&key=${myKey}&printType=books&startIndex=0&maxResults=6&langRestrict=en&filter=paid-ebooks`;\n        category.addEventListener('click', () => {\n            currentCategory = category.innerHTML;\n            categories.forEach(item => {\n                item.classList.remove('active');\n            });\n            category.classList.add('active');\n            // reloads the book list\n            booksList.innerHTML = ' ';\n            // takes care of the crafts category (doesn't have any paid e-books)\n            if (currentCategory == `\\n\\t\\t\\t\\t\\tCrafts &amp; Hobbies\\n\\t\\t\\t\\t`) {\n                currentUrl = `https://www.googleapis.com/books/v1/volumes?q=\"subject:${categoryName}\"&key=${myKey}&printType=books&startIndex=0&maxResults=6&langRestrict=en`;\n            }\n            request(currentUrl);\n        });\n    });\n\n    // load more btn\n    loadBtn.addEventListener('click', () => {\n        loadMore(currentCategory);\n    });\n});\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://bookshop/./scripts/index.js?")},"./scripts/menu-burger.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"menuBuger\": () => (/* binding */ menuBuger)\n/* harmony export */ });\nfunction menuBuger() {\n    const burger = document.querySelector('.header__burger');\n    const menu = document.querySelector('.hidden__nav');\n\n\n\n    burger.addEventListener('click', () => {\n        let menuHeight = menu.style.height;\n        if (menuHeight == '0px' || !menuHeight) {\n            menu.style.height = '120px';\n        } else {\n            menu.style.height = '0';\n        }\n\n        burger.classList.toggle('header__burger-active');\n    });\n}\n\n\n\n//# sourceURL=webpack://bookshop/./scripts/menu-burger.js?")},"./scripts/slider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"slider\": () => (/* binding */ slider)\n/* harmony export */ });\nfunction slider() {\n\n    const imgs = [\n        {\n            id: 1,\n            url: 'imgs/slider-imgs/slider1.png',\n            alt: `illustration with people holding books. it reads 'black friday sale up to 60%'`\n        },\n        {\n            id: 2,\n            url: 'imgs/slider-imgs/slider2.png',\n            alt: `illustration with people climbing a mountain made of blocks. it reads 'top 10 books for entrepreneurs'`\n        },\n        {\n            id: 3,\n            url: 'imgs/slider-imgs/slider3.png',\n            alt: `illustration with bright pink leaves on baby pink background. it reads 'check out our cozy books selection'`\n        }\n    ];\n\n    const img = document.querySelector('.slider__img');\n    const dots = Array.from(document.querySelectorAll('.slider-dot'));\n\n    let currentItem = 0;\n\n    const showPicture = picNum => {\n        const item = imgs[picNum];\n        img.src = item.url;\n        img.alt = item.alt;\n\n        dots.forEach(dot => {\n            if (dots.indexOf(dot) == picNum) {\n                dot.classList.add('active');\n            } else {\n                dot.classList.remove('active');\n            }\n        });\n    };\n\n    const change = () => {\n        currentItem++;\n        if (currentItem > (imgs.length - 1)) {\n            currentItem = 0;\n        }\n        showPicture(currentItem);\n    };\n\n    window.addEventListener('DOMContentLoaded', () => {\n        showPicture(currentItem);\n        setInterval(change, 5000);\n\n    });\n\n    dots.forEach(dot => {\n        dot.addEventListener('click', () => {\n            const num = dots.indexOf(dot);\n            currentItem = num;\n            showPicture(num);\n        });\n    });\n}\n\n\n\n//# sourceURL=webpack://bookshop/./scripts/slider.js?")}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(e,n)=>{for(var o in n)__webpack_require__.o(n,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./scripts/index.js")})();